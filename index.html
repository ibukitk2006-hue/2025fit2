<!DOCTYPE html>
<html>
    <head>
        <title>イブたん final 情報基礎２</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="assets/css/main.css" />
        <script src="https://cdn.jsdelivr.net/gh/kitao/pyxel/wasm/pyxel.js"></script>
    </head>
    <body>
        <div id="page-wrapper">

            <section id="header">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            
                            <div style="text-align:center; background: #222; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                                <pyxel-run script='
import pyxel
import random

class App:
    def __init__(self):
        pyxel.init(160, 120, title="Avoid Game")
        self.player_x = 80
        self.player_y = 100
        self.enemies = []
        self.score = 0
        self.is_game_over = False
        pyxel.run(self.update, self.draw)

    def update(self):
        if self.is_game_over:
            if pyxel.btnp(pyxel.KEY_R): 
                self.__init__()
            return

        if pyxel.btn(pyxel.KEY_LEFT) and self.player_x > 0:
            self.player_x -= 2
        if pyxel.btn(pyxel.KEY_RIGHT) and self.player_x < pyxel.width - 8:
            self.player_x += 2

        if pyxel.frame_count % 20 == 0:
            self.enemies.append([random.randint(0, pyxel.width - 8), 0])

        new_enemies = []
        for enemy in self.enemies:
            enemy[1] += 2 
            if (abs(self.player_x - enemy[0]) < 6 and abs(self.player_y - enemy[1]) < 6):
                self.is_game_over = True
            if enemy[1] < pyxel.height:
                new_enemies.append(enemy)
            else:
                self.score += 30
        self.enemies = new_enemies

    def draw(self):
        pyxel.cls(0) 
        if self.is_game_over:
            pyxel.text(60, 50, "GAME OVER", 7)
            pyxel.text(50, 70, "Press R to Restart", 6)
        else:
            pyxel.rect(self.player_x, self.player_y, 8, 8, 10)
            for enemy in self.enemies:
                pyxel.circ(enemy[0], enemy[1], 4, 8)
            pyxel.text(5, 5, f"SCORE: {self.score}", 7)
App()
'></pyxel-run>
                            </div>

                            <h1><a href="index.html" id="logo">AVOID GAME</a></h1>

                            <nav id="nav">
                                <a href="index.html">Homepage</a>
                                <a href="https://kitao.github.io/pyxel/wasm/launcher/?run=ibukitk2006-hue.2025fit2.試し.py">Launch Game Link</a>
                            </nav>

                        </div>
                    </div>
                </div>

                <div id="banner">
                    <div class="container">
                        <div class="row">
                            <div class="col-6 col-12-medium">
                                <p>ヤンコレルを無失点にしようゲーム</p>
                                <a href="#" class="button-large">Game Info</a>
                            </div>
                            <div class="col-6 col-12-medium imp-medium">
                                <a href="#" class="bordered-feature-image"><img src="images/banner.jpg" alt="" /></a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="features">
                <div class="container">
                    <div class="row">
                        <div class="col-3 col-6-medium col-12-small">
                            <section>
                                <a href="#" class="bordered-feature-image"><img src="images/pic01.jpg" alt="" /></a>
                                <h2>ルール</h2>
                                <p>上からボールが降ってくる</p>
                            </section>
                        </div>
                        <div class="col-3 col-6-medium col-12-small">
                            <section>
                                <a href="#" class="bordered-feature-image"><img src="images/pic02.jpg" alt="" /></a>
                                <h2>操作方法</h2>
                                <p>ボールを十字キー操って避けよう</p>
                            </section>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </body>
</html>
